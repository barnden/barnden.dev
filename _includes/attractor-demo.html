<script type="text/x-fragment-shader" id="update-vs" markdown="0">#version 300 es
precision highp float;uniform float u_Consts[1],u_Speed;uniform sampler2D u_RgbNoise;in vec3 i_Position;out vec3 v_Position;void main(){float a=i_Position.x,b=i_Position.y,c=i_Position.z,d=u_Consts[0];vec3 n=texelFetch(u_RgbNoise,ivec2(int(a)%512,int(b)%512),0).rgb/255.;vec3 e=i_Position+vec3(-d*a-4.*b-4.*c-b*b,-d*b-4.*c-4.*a-c*c,-d*c-4.*a-4.*b-a*a)*u_Speed;v_Position=mix(e,n,float(length(e)>25.))+n;}</script>
